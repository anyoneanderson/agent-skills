# spec-inspect

Quality checker for spec-generator specifications.

## Overview

spec-inspect automatically validates specification documents generated by spec-generator, detecting:
- Requirement ID inconsistencies
- Missing mandatory sections
- Ambiguous expressions
- Coverage gaps
- And more...

## Features

### Current Implementation (MVP)

- âœ… **Requirement ID Validation**: Ensures all referenced requirement IDs exist
- âœ… **Structure Validation**: Checks for mandatory sections
- âœ… **Markdown Reports**: Generate detailed inspection reports
- âœ… **Console Output**: Color-coded terminal output
- âœ… **CLI Interface**: Simple command-line usage

### Planned Features

- â³ Contradiction detection
- â³ Ambiguity detection
- â³ Coverage validation
- â³ Naming convention checks
- â³ Documentation update analysis
- â³ Workflow integration with spec-generator and spec-to-issue

## Installation

```bash
cd skills/spec-inspect
pip install -e .
```

## Usage

### Basic Usage

```bash
spec-inspect .specs/my-project
```

### Generate Markdown Report

```bash
spec-inspect .specs/my-project -o inspection-report.md -f markdown
```

### Both Console and Markdown Output

```bash
spec-inspect .specs/my-project -o report.md -f both
```

## Output Example

```
ğŸ“‚ Loading specifications from .specs/spec-inspect...
âœ… Loaded project: spec-inspect

ğŸ“ Parsing Markdown documents...
âœ… Parsing complete

ğŸ” Running quality checks...
âœ… Checks complete: 3 issues found

æ¤œæŸ»çµæœã‚µãƒãƒªãƒ¼
  Total: 3 issues
  â›” Critical: 1
  âš ï¸  Warning: 2
  â„¹ï¸  Info: 0

â›” CRITICAL ISSUES

[CRITICAL-001] Requirement ID [REQ-999] does not exist
  ğŸ“„ design.md:45
  [REQ-999] is referenced in design.md but not defined in requirement.md
  ğŸ’¡ Add [REQ-999] to requirement.md or fix the reference in design.md
```

## Development

### Run Tests

```bash
pytest
```

### Type Checking

```bash
mypy src/spec_inspect
```

## Architecture

```
spec-inspect/
â”œâ”€â”€ src/spec_inspect/
â”‚   â”œâ”€â”€ core/               # Core components
â”‚   â”‚   â”œâ”€â”€ file_loader.py
â”‚   â”‚   â”œâ”€â”€ parser.py
â”‚   â”‚   â”œâ”€â”€ check_engine.py
â”‚   â”‚   â””â”€â”€ report_generator.py
â”‚   â”œâ”€â”€ rules/              # Check rules
â”‚   â”‚   â”œâ”€â”€ requirement_id_validator.py
â”‚   â”‚   â””â”€â”€ structure_validator.py
â”‚   â””â”€â”€ models/             # Data models
â”‚       â”œâ”€â”€ issue.py
â”‚       â”œâ”€â”€ parsed_document.py
â”‚       â””â”€â”€ inspection_result.py
â””â”€â”€ tests/                  # Test suite
```

## License

MIT

## Contributing

This is part of the agent-skills repository. See the main repository for contribution guidelines.
